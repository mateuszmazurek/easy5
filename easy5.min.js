var easy5={Worker:function(){var l=function(){return"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope},c=Array.prototype.slice.call(arguments),d=[],g=[],k={},b={},e;1<c.length?(k=c[0],b=c[1]):b=c[0];b.local=b.local||{};b.remote=b.remote||{};e=k.worker&&!l()?new Worker(k.worker):self;e.addEventListener("message",function(a){if(a.data.hasOwnProperty("method")&&b.local.hasOwnProperty(a.data.method)){for(i in a.data.params)if(a.data.params.hasOwnProperty(i)&&"string"===typeof a.data.params[i]&&
0===a.data.params[i].indexOf("easy5.FUNCTION:")){var f=a.data.params[i].split(":").pop();a.data.params[i]=function(){var a=Array.prototype.slice.call(arguments);e.postMessage({result:a[0],error:null,id:f})}}var m=b.local[a.data.method].apply(null,a.data.params);m&&a.data.hasOwnProperty("id")&&e.postMessage({result:m,error:null,id:a.data.id})}else a.data.hasOwnProperty("result")&&d[a.data.id]&&(d[a.data.id].apply(null,[a.data.result]),d[a.data.id]=null,g.push(a.data.id))},!1);for(name in b.remote)b.remote.hasOwnProperty(name)&&
function(a,f){a[f]=function(){var a=arguments,a=Array.prototype.slice.call(a),c=null;b.remote[f].hasOwnProperty("return")&&!0===b.remote[f]["return"]&&(0<g.length?(c=g.shift(),d[c]=a.pop()):c=d.push(a.pop())-1);for(i in a)if(a.hasOwnProperty(i)&&"function"===typeof a[i]){var h;0<g.length?(h=g.shift(),d[h]=a[i]):h=d.push(a[i])-1;a[i]="easy5.FUNCTION:"+h}e.postMessage({method:f,params:a,id:c})}}(this,name);this.terminate=function(){if(l())return!1;e.terminate();return!0}}};