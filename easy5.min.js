var easy5={Worker:function(){var m=function(){return"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope},d=Array.prototype.slice.call(arguments),e=[],g=[],l={},b={},f;1<d.length?(l=d[0],b=d[1]):b=d[0];b.local=b.local||{};b.remote=b.remote||{};f=l.worker&&!m()?new Worker(l.worker):self;f.addEventListener("message",function(a){if(a.data.hasOwnProperty("method")&&b.local.hasOwnProperty(a.data.method)){for(var c in a.data.params)if(a.data.params.hasOwnProperty(c)&&"string"===typeof a.data.params[c]&&
0===a.data.params[c].indexOf("easy5.FUNCTION:")){var p=a.data.params[c].split(":").pop();a.data.params[c]=function(){var a=Array.prototype.slice.call(arguments);f.postMessage({result:a[0],error:null,id:p})}}(c=b.local[a.data.method].apply(null,a.data.params))&&a.data.hasOwnProperty("id")&&f.postMessage({result:c,error:null,id:a.data.id})}else a.data.hasOwnProperty("result")&&e[a.data.id]&&(e[a.data.id].apply(null,[a.data.result]),e[a.data.id]=null,g.push(a.data.id))},!1);for(var n in b.remote)b.remote.hasOwnProperty(n)&&
function(a,c){a[c]=function(){var a=arguments,a=Array.prototype.slice.call(a),d=null;b.remote[c].hasOwnProperty("return")&&!0===b.remote[c]["return"]&&(0<g.length?(d=g.shift(),e[d]=a.pop()):d=e.push(a.pop())-1);for(var h in a)if(a.hasOwnProperty(h)&&"function"===typeof a[h]){var k;0<g.length?(k=g.shift(),e[k]=a[h]):k=e.push(a[h])-1;a[h]="easy5.FUNCTION:"+k}f.postMessage({method:c,params:a,id:d})}}(this,n);this.terminate=function(){if(m())return!1;f.terminate();return!0}}};